"use strict";

var _koa = _interopRequireDefault(require("koa"));

var _rollbar = _interopRequireDefault(require("rollbar"));

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

const port = process.env.PORT || 80;
const app = new _koa.default();
const rollbar = new _rollbar.default('POST_SERVER_ITEM_ACCESS_TOKEN');
app.use(async (ctx, next) => {
  try {
    await next();
  } catch (err) {
    rollbar.error(err, ctx.request);
  }
});
app.use(async ctx => {
  ctx.body = 'Hello World!';
});
app.listen(port, () => console.log(`run on ${port}`));
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uL3NyYy9hcHAuanMiXSwibmFtZXMiOlsicG9ydCIsInByb2Nlc3MiLCJlbnYiLCJQT1JUIiwiYXBwIiwiS29hIiwicm9sbGJhciIsIlJvbGxiYXIiLCJ1c2UiLCJjdHgiLCJuZXh0IiwiZXJyIiwiZXJyb3IiLCJyZXF1ZXN0IiwiYm9keSIsImxpc3RlbiIsImNvbnNvbGUiLCJsb2ciXSwibWFwcGluZ3MiOiI7O0FBQUE7O0FBQ0E7Ozs7QUFFQSxNQUFNQSxJQUFJLEdBQUdDLE9BQU8sQ0FBQ0MsR0FBUixDQUFZQyxJQUFaLElBQW9CLEVBQWpDO0FBQ0EsTUFBTUMsR0FBRyxHQUFHLElBQUlDLFlBQUosRUFBWjtBQUVBLE1BQU1DLE9BQU8sR0FBRyxJQUFJQyxnQkFBSixDQUFZLCtCQUFaLENBQWhCO0FBQ0FILEdBQUcsQ0FBQ0ksR0FBSixDQUFRLE9BQU9DLEdBQVAsRUFBWUMsSUFBWixLQUFxQjtBQUMzQixNQUFJO0FBQ0YsVUFBTUEsSUFBSSxFQUFWO0FBQ0QsR0FGRCxDQUVFLE9BQU9DLEdBQVAsRUFBWTtBQUNaTCxJQUFBQSxPQUFPLENBQUNNLEtBQVIsQ0FBY0QsR0FBZCxFQUFtQkYsR0FBRyxDQUFDSSxPQUF2QjtBQUNEO0FBQ0YsQ0FORDtBQU9BVCxHQUFHLENBQUNJLEdBQUosQ0FBUSxNQUFPQyxHQUFQLElBQWU7QUFDckJBLEVBQUFBLEdBQUcsQ0FBQ0ssSUFBSixHQUFXLGNBQVg7QUFDRCxDQUZEO0FBSUFWLEdBQUcsQ0FBQ1csTUFBSixDQUFXZixJQUFYLEVBQWlCLE1BQU1nQixPQUFPLENBQUNDLEdBQVIsQ0FBYSxVQUFTakIsSUFBSyxFQUEzQixDQUF2QiIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBLb2EgZnJvbSAna29hJztcclxuaW1wb3J0IFJvbGxiYXIgZnJvbSAncm9sbGJhcic7XHJcblxyXG5jb25zdCBwb3J0ID0gcHJvY2Vzcy5lbnYuUE9SVCB8fCA4MDtcclxuY29uc3QgYXBwID0gbmV3IEtvYSgpO1xyXG5cclxuY29uc3Qgcm9sbGJhciA9IG5ldyBSb2xsYmFyKCdQT1NUX1NFUlZFUl9JVEVNX0FDQ0VTU19UT0tFTicpO1xyXG5hcHAudXNlKGFzeW5jIChjdHgsIG5leHQpID0+IHtcclxuICB0cnkge1xyXG4gICAgYXdhaXQgbmV4dCgpO1xyXG4gIH0gY2F0Y2ggKGVycikge1xyXG4gICAgcm9sbGJhci5lcnJvcihlcnIsIGN0eC5yZXF1ZXN0KTtcclxuICB9XHJcbn0pO1xyXG5hcHAudXNlKGFzeW5jIChjdHgpID0+IHtcclxuICBjdHguYm9keSA9ICdIZWxsbyBXb3JsZCEnO1xyXG59KTtcclxuXHJcbmFwcC5saXN0ZW4ocG9ydCwgKCkgPT4gY29uc29sZS5sb2coYHJ1biBvbiAke3BvcnR9YCkpO1xyXG4iXX0=